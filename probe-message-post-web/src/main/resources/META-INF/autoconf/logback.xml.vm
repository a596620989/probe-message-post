<configuration debug="true">

    <property name="LOG_HOME" value="${APP_HOME}/logs"/>

    <appender name="default" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_HOME}/default.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_HOME}/default.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>5</maxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
        </encoder>
    </appender>

    <appender name="Console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
        </encoder>
    </appender>

    <appender name="webLogger" class="ch.qos.logback.core.FileAppender">
        <file>${LOG_HOME}/web.log</file>
        <encoder>
            <pattern>%date %level [%thread] [%file:%line] %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="WebLogger" level="DEBUG" additivity="true">
        <appender-ref ref="webLogger"/>
    </logger>

    <appender name="consumerLogger" class="ch.qos.logback.core.FileAppender">
        <file>${LOG_HOME}/consumer.log</file>
        <encoder>
            <pattern>%date %level [%thread] [%file:%line] %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="ConsumerLogger" level="DEBUG" additivity="true">
        <appender-ref ref="consumerLogger"/>
    </logger>

	<!--
	<logger name="com.alibaba" level="INFO" additivity="false">
		<appender-ref ref="Console" />
	</logger>
	<logger name="RocketmqClient" level="INFO"/>
	-->

    #if(${probe_message_env} == "dev")
        <root level="debug">
            <appender-ref ref="Console"/>
        </root>
    #else
        <root level="debug">
            <appender-ref ref="default"/>
        </root>
    #end
</configuration>